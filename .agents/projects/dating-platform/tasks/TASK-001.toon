task:
 id: TASK-001
 project: dating-platform
 title: Setup AWS infrastructure with Terraform
 type: infrastructure
 priority: 10
 status: ready

description:
 summary: Initialize AWS infrastructure using Terraform IaC
 details: |
  Set up complete AWS infrastructure for development, staging, and production:
  - ECS Fargate cluster for containerized apps
  - RDS PostgreSQL 15 Multi-AZ instances
  - ElastiCache Redis clusters
  - S3 buckets for photo storage
  - CloudFront CDN configuration
  - VPC with public/private subnets
  - Security groups and IAM roles
  - Secrets Manager for credentials
  - CloudWatch logging and monitoring

acceptance_criteria[8]:
 Terraform scripts create all AWS resources successfully
 Three environments deployed (dev, staging, prod)
 RDS PostgreSQL 15 Multi-AZ running
 ElastiCache Redis clusters operational
 S3 buckets with proper IAM policies
 CloudFront distribution serving S3 content
 GitHub Actions can deploy to all environments
 Infrastructure cost < $500/month for dev+staging

dependencies:
 required[0]:
 blocks[3]:
  TASK-002
  TASK-003
  TASK-004

context:
 files_to_create[6]:
  terraform/main.tf
  terraform/variables.tf
  terraform/environments/dev.tfvars
  terraform/environments/staging.tfvars
  terraform/environments/prod.tfvars
  .github/workflows/terraform-deploy.yml
 related_docs[2]:
  .agents/projects/dating-platform/architecture.toon
  docs/dating-platform/README.md

technical_details:
 aws_services[8]:
  ECS Fargate (compute)
  RDS PostgreSQL 15 Multi-AZ (database)
  ElastiCache Redis 7 (cache)
  S3 (storage)
  CloudFront (CDN)
  Secrets Manager (secrets)
  CloudWatch (monitoring)
  IAM (access control)
 terraform_modules[5]:
  networking (VPC, subnets, security groups)
  compute (ECS cluster, task definitions)
  database (RDS, ElastiCache)
  storage (S3, CloudFront)
  monitoring (CloudWatch, DataDog integration)
 estimated_cost_monthly_usd:
  dev: 150
  staging: 200
  prod: 800

metadata:
 created_by: architect-agent
 created_at: 2025-11-17T16:45:00Z
 estimated_hours: 16
 complexity: high
